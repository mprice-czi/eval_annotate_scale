{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Processed Passage",
  "description": "Schema for passages processed by the intelligent preprocessing pipeline",
  "type": "object",
  "properties": {
    "original_id": {
      "type": "string",
      "description": "Reference to the original CLEAR record ID"
    },
    "segment_id": {
      "type": "string",
      "description": "Unique identifier for this processed segment"
    },
    "text": {
      "type": "string",
      "description": "The processed text segment"
    },
    "estimated_reading_time": {
      "type": "number",
      "minimum": 0,
      "description": "Estimated reading time in seconds"
    },
    "flesch_score": {
      "type": "number",
      "minimum": 0,
      "maximum": 100,
      "description": "Flesch Reading Ease score for this segment"
    },
    "complexity_estimate": {
      "type": "string",
      "enum": ["Easy", "Medium", "Hard", "Very Hard"],
      "description": "AI-generated complexity assessment"
    },
    "context_preserved": {
      "type": "boolean",
      "description": "Whether the segment maintains contextual integrity"
    },
    "vocabulary_focus_words": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Key vocabulary words identified for complexity assessment"
    }
  },
  "required": [
    "original_id",
    "segment_id", 
    "text",
    "estimated_reading_time",
    "flesch_score",
    "complexity_estimate",
    "context_preserved",
    "vocabulary_focus_words"
  ],
  "additionalProperties": false
}